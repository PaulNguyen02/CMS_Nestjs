
-- Tạo bảng
CREATE TABLE contact_information (
    id UNIQUEIDENTIFIER NOT NULL DEFAULT NEWSEQUENTIALID() PRIMARY KEY,
    created_at DATETIME NOT NULL,
    created_by NVARCHAR(255) NOT NULL,
    [key] NVARCHAR(255) NOT NULL,
    [value] NVARCHAR(255) NOT NULL
);

CREATE TABLE files (
    id UNIQUEIDENTIFIER NOT NULL DEFAULT NEWSEQUENTIALID() PRIMARY KEY,
    created_at DATETIME NOT NULL,
    created_by NVARCHAR(255) NOT NULL,
    original_name NVARCHAR(255) NOT NULL,
    url NVARCHAR(255) NOT NULL
);

CREATE TABLE follow_us (
    id UNIQUEIDENTIFIER NOT NULL DEFAULT NEWSEQUENTIALID() PRIMARY KEY,
    created_at DATETIME NOT NULL,
    created_by NVARCHAR(255) NOT NULL,
    name NVARCHAR(255) NOT NULL,
    url NVARCHAR(255) NOT NULL,
    file_id UNIQUEIDENTIFIER NOT NULL UNIQUE,
    FOREIGN KEY (file_id) REFERENCES files(id) ON DELETE CASCADE
);

CREATE TABLE members (
    id UNIQUEIDENTIFIER NOT NULL DEFAULT NEWSEQUENTIALID() PRIMARY KEY,
    created_at DATETIME NOT NULL,
    created_by NVARCHAR(255) NOT NULL,
    full_name NVARCHAR(255) NOT NULL,
    slug NVARCHAR(255) NOT NULL UNIQUE,
    position NVARCHAR(255) NOT NULL,
    image_id UNIQUEIDENTIFIER NULL,
    FOREIGN KEY (image_id) REFERENCES files(id)
);

CREATE TABLE menu_group (
    id UNIQUEIDENTIFIER NOT NULL DEFAULT NEWSEQUENTIALID() PRIMARY KEY,
    created_at DATETIME NOT NULL,
    created_by NVARCHAR(255) NOT NULL,
    name NVARCHAR(255) NOT NULL,
    slug NVARCHAR(255) NOT NULL UNIQUE,
    is_footer BIT NOT NULL
);

CREATE TABLE menu_item (
    id UNIQUEIDENTIFIER NOT NULL DEFAULT NEWSEQUENTIALID() PRIMARY KEY,
    created_at DATETIME NOT NULL,
    created_by NVARCHAR(255) NOT NULL,
    name NVARCHAR(255) NOT NULL,
    slug NVARCHAR(255) NOT NULL UNIQUE,
    group_id UNIQUEIDENTIFIER NOT NULL,
    FOREIGN KEY (group_id) REFERENCES menu_group(id) ON DELETE CASCADE
);

CREATE TABLE messages (
    id UNIQUEIDENTIFIER NOT NULL DEFAULT NEWSEQUENTIALID() PRIMARY KEY,
    created_at DATETIME NOT NULL,
    created_by NVARCHAR(255) NOT NULL,
    full_name NVARCHAR(255) NOT NULL,
    phone_number NVARCHAR(255) NOT NULL,
    email NVARCHAR(255) NOT NULL,
    content NVARCHAR(255) NOT NULL
);

CREATE TABLE partners (
    id UNIQUEIDENTIFIER NOT NULL DEFAULT NEWSEQUENTIALID() PRIMARY KEY,
    created_at DATETIME NOT NULL,
    created_by NVARCHAR(255) NOT NULL,
    name NVARCHAR(255) NOT NULL,
    url NVARCHAR(255) NOT NULL,
    file_id UNIQUEIDENTIFIER NOT NULL UNIQUE,
    FOREIGN KEY (file_id) REFERENCES files(id) ON DELETE CASCADE
);

CREATE TABLE posts (
    id UNIQUEIDENTIFIER NOT NULL DEFAULT NEWSEQUENTIALID() PRIMARY KEY,
    created_at DATETIME NOT NULL,
    created_by NVARCHAR(255) NOT NULL,
    slug NVARCHAR(255) NOT NULL UNIQUE,
    title NVARCHAR(255) NOT NULL,
    summary NVARCHAR(255),
    content NVARCHAR(255),
    category NVARCHAR(255) NOT NULL
);

CREATE TABLE [user] (
    id UNIQUEIDENTIFIER NOT NULL DEFAULT NEWSEQUENTIALID() PRIMARY KEY,
    username NVARCHAR(255) NOT NULL,
    [password] NVARCHAR(255) NOT NULL,
    user_agent NVARCHAR(255),
    create_at DATETIME,
    login_at DATETIME
);

CREATE TABLE working_history (
    id UNIQUEIDENTIFIER NOT NULL DEFAULT NEWSEQUENTIALID() PRIMARY KEY,
    created_at DATETIME NOT NULL,
    created_by NVARCHAR(255) NOT NULL,
    title NVARCHAR(255) NOT NULL,
    description NVARCHAR(255) NOT NULL,
    categories NVARCHAR(255),
    member_id UNIQUEIDENTIFIER NOT NULL,
    FOREIGN KEY (member_id) REFERENCES members(id) ON DELETE CASCADE
);